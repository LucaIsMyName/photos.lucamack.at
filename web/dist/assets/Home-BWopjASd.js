import{c as y,r as f,a as x,j as l,L as v,g as u,s as I,b as N,C as j}from"./index-CBkagWS7.js";import{H as b}from"./Href-B0xC3vj1.js";import{I as F}from"./Image-ffXKxjfH.js";import{S}from"./SeoHead-5TPpmnAZ.js";import"./mapbox-gl-CVYYZmbF.js";const H=()=>{const e=y.c(17),[s,w]=f.useState(null);let c,g;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{const h=u.filter(_);if(h.length>0){const t=h[Math.floor(Math.random()*h.length)],n=t.images[Math.floor(Math.random()*t.images.length)];w({gallery:t,image:n})}},g=[],e[0]=c,e[1]=g):(c=e[0],g=e[1]),f.useEffect(c,g);let a,r,o,i;if(e[2]!==s){const t=s?{src:N(s.gallery.slug,s.image.filename),alt:s.image.alt||"",width:s.image.width,height:s.image.height,slug:s.gallery.slug}:null;o="h-full w-full relative overflow-hidden";const n=window.location.origin+t?.src;e[7]!==n?(i=l.jsx(S,{title:`Fotos | ${j.meta.title}`,description:`Momente und Fotoserien von ${j.meta.title}. Creative Commons lizensierte Fotos von Wien, Berlin, Salzburg, Schweiz, ...`,imageUrl:n}),e[7]=n,e[8]=i):i=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(a=x("absolute inset-0 bottom-[12vh] md:bottom-0 py-12 pb-24 px-8 md:p-20 lg:p-24"),e[9]=a):a=e[9],r=t?l.jsxs(l.Fragment,{children:[l.jsx(v,{to:`/gallery/${t.slug}`,className:"block w-full h-full",children:l.jsx(F,{src:t.src,alt:(t.src.split("/").pop()?.replace(".jpg","")+" / "||"")+"Fotoserie: "+(u.find(p=>p.slug===t.slug)?.title||""),width:t.width||1920,height:t.height||1080,sizes:"100vw",loading:"eager",className:x("object-contain w-full h-full")})}),l.jsx("section",{className:"absolute md:text-right bottom-0 right-0 left-0 p-4 md:pr-8 md:py-6 text-balance",children:l.jsxs("div",{className:" md:mx-auto md:text-xs leading-5",children:[l.jsx(b,{className:"max-w-[50vh] md:max-w-[65ch]",to:`/gallery/${t.slug}/image/${I(t.src.split("/").pop()?.replaceAll("_","-").replace(".jpg","")||"")}`,children:t.src.split("/").pop()?.replace(".jpg","").replaceAll("_"," ")})," ","aus der Fotoserie ",l.jsx(b,{to:`/gallery/${t.slug}`,children:u.find(p=>p.slug===t.slug)?.title})]})})]}):l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:"Lade Foto..."}),e[2]=s,e[3]=a,e[4]=r,e[5]=o,e[6]=i}else a=e[3],r=e[4],o=e[5],i=e[6];let m;e[10]!==a||e[11]!==r?(m=l.jsx("div",{className:a,children:r}),e[10]=a,e[11]=r,e[12]=m):m=e[12];let d;return e[13]!==o||e[14]!==i||e[15]!==m?(d=l.jsxs("div",{className:o,children:[i,m]}),e[13]=o,e[14]=i,e[15]=m,e[16]=d):d=e[16],d};function _(e){return e.images&&e.images.length>0}export{H as default};
