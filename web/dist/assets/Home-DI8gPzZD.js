import{c as v,r as x,a as j,j as l,L as I,g as u,s as N,b as F,C as b}from"./index-CkWU1dy9.js";import{H as w}from"./Href-tR7F9sco.js";import{I as _}from"./Image-B8T5bhoY.js";import{S as $}from"./SeoHead-Dpt-2Xl8.js";import"./mapbox-gl-CNTiHEyl.js";const k=()=>{const e=v.c(19),[s,y]=x.useState(null);let g,d;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=()=>{const t=u.filter(M);if(t.length>0){const r=t[Math.floor(Math.random()*t.length)],c=r.images[Math.floor(Math.random()*r.images.length)];y({gallery:r,image:c})}},d=[],e[0]=g,e[1]=d):(g=e[0],d=e[1]),x.useEffect(g,d);let h;e[2]!==s?(h=()=>s?{src:F(s.gallery.slug,s.image.filename),alt:s.image.alt||"",width:s.image.width,height:s.image.height,slug:s.gallery.slug}:null,e[2]=s,e[3]=h):h=e[3];const p=h;let a,o,m,i;if(e[4]!==p){const t=p();m="h-full w-full relative overflow-hidden";const r=window.location.origin+t?.src;e[9]!==r?(i=l.jsx($,{title:`Fotos | ${b.meta.title}`,description:`Momente und Fotoserien von ${b.meta.title}.`,imageUrl:r}),e[9]=r,e[10]=i):i=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(a=j("absolute inset-0 bottom-[12vh] md:bottom-0 py-12 pb-24 px-8 md:p-20 lg:p-24"),e[11]=a):a=e[11],o=t?l.jsxs(l.Fragment,{children:[l.jsx(I,{to:`/gallery/${t.slug}`,className:"block w-full h-full",children:l.jsx(_,{src:t.src,alt:(t.src.split("/").pop()?.replace(".jpg","")+" / "||"")+"Fotoserie: "+(u.find(c=>c.slug===t.slug)?.title||""),width:t.width||1920,height:t.height||1080,sizes:"100vw",loading:"eager",className:j("object-contain w-full h-full")})}),l.jsx("section",{className:"absolute md:text-right bottom-0 right-0 left-0 p-4 md:pr-8 md:py-6 text-balance",children:l.jsxs("div",{className:" md:mx-auto md:text-xs leading-5",children:[l.jsx(w,{className:"max-w-[50vh] md:max-w-[65ch]",to:`/gallery/${t.slug}/image/${N(t.src.split("/").pop()?.replaceAll("_","-").replace(".jpg","")||"")}`,children:t.src.split("/").pop()?.replace(".jpg","").replaceAll("_"," ")})," ","aus der Fotoserie ",l.jsx(w,{to:`/gallery/${t.slug}`,children:u.find(c=>c.slug===t.slug)?.title})]})})]}):l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:"Lade Foto..."}),e[4]=p,e[5]=a,e[6]=o,e[7]=m,e[8]=i}else a=e[5],o=e[6],m=e[7],i=e[8];let n;e[12]!==a||e[13]!==o?(n=l.jsx("div",{className:a,children:o}),e[12]=a,e[13]=o,e[14]=n):n=e[14];let f;return e[15]!==m||e[16]!==i||e[17]!==n?(f=l.jsxs("div",{className:m,children:[i,n]}),e[15]=m,e[16]=i,e[17]=n,e[18]=f):f=e[18],f};function M(e){return e.images&&e.images.length>0}export{k as default};
