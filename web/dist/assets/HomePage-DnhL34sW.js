import{c as v,r as x,j as r,L as F,g as I}from"./index-CGS2EipM.js";import{I as N}from"./Image-D5g_6WrC.js";import{c as w}from"./cn-CBfrqCZ4.js";import{g as M}from"./image-CpkqAB9L.js";import{C as j}from"./config-BUEk0qKv.js";import"./mapbox-gl-CNTiHEyl.js";const C=()=>{const e=v.c(24),[l,y]=x.useState(null);let f,h;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{const t=I.filter(_);if(t.length>0){const g=t[Math.floor(Math.random()*t.length)],b=g.images[Math.floor(Math.random()*g.images.length)];y({gallery:g,image:b})}},h=[],e[0]=f,e[1]=h):(f=e[0],h=e[1]),x.useEffect(f,h);let u;e[2]!==l?(u=()=>l?{src:M(l.gallery.slug,l.image.filename),alt:l.image.alt||"",width:l.image.width,height:l.image.height,slug:l.gallery.slug}:null,e[2]=l,e[3]=u):u=e[3];const p=u;let s,m,n,a,i,o;if(e[4]!==p){const t=p();n="h-full w-full relative",e[11]===Symbol.for("react.memo_cache_sentinel")?(a=r.jsx("title",{children:`Fotos | ${j.meta.title}`}),i=r.jsx("meta",{name:"title",content:`Fotos | ${j.meta.title}`}),o=r.jsx("meta",{name:"description",content:`Momente und Fotoserien von ${j.meta.title}.`}),s=w("absolute inset-0 p-8 md:p-16"),e[11]=s,e[12]=a,e[13]=i,e[14]=o):(s=e[11],a=e[12],i=e[13],o=e[14]),m=t?r.jsx(F,{to:`/gallery/${t.slug}`,className:"block w-full h-full",children:r.jsx(N,{src:t.src,alt:(t.src.split("/").pop()?.replace(".jpg","")+" / "||"")+"Fotoserie: "+(I.find(g=>g.slug===t.slug)?.title||""),width:t.width||1920,height:t.height||1080,sizes:"100vw",loading:"eager",className:w("object-contain w-full h-full")})}):r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:"Lade Foto..."}),e[4]=p,e[5]=s,e[6]=m,e[7]=n,e[8]=a,e[9]=i,e[10]=o}else s=e[5],m=e[6],n=e[7],a=e[8],i=e[9],o=e[10];let c;e[15]!==s||e[16]!==m?(c=r.jsx("div",{className:s,children:m}),e[15]=s,e[16]=m,e[17]=c):c=e[17];let d;return e[18]!==n||e[19]!==a||e[20]!==i||e[21]!==o||e[22]!==c?(d=r.jsxs("div",{className:n,children:[a,i,o,c]}),e[18]=n,e[19]=a,e[20]=i,e[21]=o,e[22]=c,e[23]=d):d=e[23],d};function _(e){return e.images&&e.images.length>0}export{C as default};
