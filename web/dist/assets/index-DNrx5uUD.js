import{n as O,H as u,o as y,j as h,z as A,r as x,t as g}from"./index-CEQ1Ji3z.js";function _(e,[t,c]){return Math.min(c,Math.max(t,e))}function D(e){const t=e+"CollectionProvider",[c,S]=O(t),[p,a]=c(t,{collectionRef:{current:null},itemMap:new Map}),f=i=>{const{scope:o,children:d}=i,r=u.useRef(null),n=u.useRef(new Map).current;return h.jsx(p,{scope:o,itemMap:n,collectionRef:r,children:d})};f.displayName=t;const s=e+"CollectionSlot",m=A(s),C=u.forwardRef((i,o)=>{const{scope:d,children:r}=i,n=a(s,d),l=y(o,n.collectionRef);return h.jsx(m,{ref:l,children:r})});C.displayName=s;const v=e+"CollectionItemSlot",M="data-radix-collection-item",z=A(v),b=u.forwardRef((i,o)=>{const{scope:d,children:r,...n}=i,l=u.useRef(null),I=y(o,l),R=a(v,d);return u.useEffect(()=>(R.itemMap.set(l,{ref:l,...n}),()=>void R.itemMap.delete(l))),h.jsx(z,{[M]:"",ref:I,children:r})});b.displayName=v;function E(i){const o=a(e+"CollectionConsumer",i);return u.useCallback(()=>{const r=o.collectionRef.current;if(!r)return[];const n=Array.from(r.querySelectorAll(`[${M}]`));return Array.from(o.itemMap.values()).sort((R,N)=>n.indexOf(R.ref.current)-n.indexOf(N.ref.current))},[o.collectionRef,o.itemMap])}return[{Provider:f,Slot:C,ItemSlot:b},E,S]}var T=x.createContext(void 0);function P(e){const t=x.useContext(T);return e||t||"ltr"}function j(e){const[t,c]=x.useState(void 0);return g(()=>{if(e){c({width:e.offsetWidth,height:e.offsetHeight});const S=new ResizeObserver(p=>{if(!Array.isArray(p)||!p.length)return;const a=p[0];let f,s;if("borderBoxSize"in a){const m=a.borderBoxSize,C=Array.isArray(m)?m[0]:m;f=C.inlineSize,s=C.blockSize}else f=e.offsetWidth,s=e.offsetHeight;c({width:f,height:s})});return S.observe(e,{box:"border-box"}),()=>S.unobserve(e)}else c(void 0)},[e]),t}function L(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}export{L as a,P as b,D as c,_ as d,j as u};
