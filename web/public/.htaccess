<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  
  # Redirect old image URLs to homepage (permanent redirect)
  RewriteRule ^image/(.*)$ / [R=301,L]
  
  # Redirects for legacy routes to new /app/ routes
  RewriteRule ^map/?$ /app/map [R=301,L]
  RewriteRule ^list/?$ /app/list [R=301,L]
  RewriteRule ^timeline/?$ /app/timeline [R=301,L]
  RewriteRule ^postcard/?$ /app/postcard [R=301,L]
  RewriteRule ^statistics/?$ /app/statistics [R=301,L]
  RewriteRule ^filter/?$ /app/filter [R=301,L]

  RewriteRule ^gallery/beton-und-struktur/?$ /gallery/wien [R=301,L]
  RewriteRule ^gallery/nhm/?$ /gallery/im-museum [R=301,L]
  RewriteRule ^gallery/bad-ischl/?$ /gallery/salzkammergut [R=301,L]
  RewriteRule ^gallery/kleinlobming/?$ /gallery/sonstwo-und-allfaelliges [R=301,L]
  RewriteRule ^gallery/ottenstein/?$ /gallery/sonstwo-und-allfaelliges [R=301,L]
  RewriteRule ^gallery/waidhofen/?$ /gallery/sonstwo-und-allfaelliges [R=301,L]
  RewriteRule ^gallery/salzkammergut/?$ /gallery/im-museum [R=301,L]
  
  # Default SPA handling
  RewriteRule ^index\.html$ - [L]
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteCond %{REQUEST_FILENAME} !-l
  RewriteRule . /index.html [L]
</IfModule>
