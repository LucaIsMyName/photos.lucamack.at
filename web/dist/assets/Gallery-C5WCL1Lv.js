import{c as T,r as b,s as k,b as w,j as a,L as D,u as M,d as O,g as f,e as U,C as c,p as C,a as A}from"./index-DVdTHJIc.js";import{k as E}from"./marked.esm-DJbTXz-_.js";import{I as H}from"./Image-5TIKZjSW.js";import{C as P,a as z}from"./CopyButton-CYdaOXwS.js";import G from"./NotFound-5iyyB91l.js";import{S as F}from"./SeoHead-5TUofPTk.js";import{H as R}from"./Href-C42Sdcvk.js";import"./mapbox-gl-CNTiHEyl.js";import"./check-BhI2Ctrt.js";const B=m=>{const e=T.c(19),{alt:t,gallerySlug:r,imageFilename:o}=m,[i,n]=b.useState(null);let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=x=>{x.width>x.height?n("landscape"):x.height>x.width?n("portrait"):n("square")},e[0]=l):l=e[0];const d=l;let s;e[1]!==i?(s=()=>{if(!i)return"w-full md:w-1/2 flex-grow-1 max-w-[calc(var(--content-width)/1.5)]";switch(i){case"landscape":return"w-full md:w-full";case"portrait":case"square":default:return"w-full md:w-1/2 flex-grow-1 max-w-[calc(var(--content-width)/1.5)]"}},e[1]=i,e[2]=s):s=e[2];const L=s,j=i==="landscape"?"(min-width: 1024px) 1024px, 100vw":"(min-width: 1024px) 512px, (min-width: 768px) 50vw, 100vw",$=o.replace(/\.[^/.]+$/,""),y=`/gallery/${r}/image/${k($)}`,N=`${k($)}`,v=L(),S=`Link zum Foto: ${t}`;let p;e[3]!==r||e[4]!==o?(p=w(r,o),e[3]=r,e[4]=o,e[5]=p):p=e[5];const I=i==="landscape"?427:i==="portrait"?960:640;let h;e[6]!==t||e[7]!==j||e[8]!==p||e[9]!==I?(h=a.jsx(H,{src:p,alt:t,width:640,height:I,onImageLoad:d,sizes:j,loading:"lazy",className:"w-full h-auto block"}),e[6]=t,e[7]=j,e[8]=p,e[9]=I,e[10]=h):h=e[10];let g;e[11]!==y||e[12]!==S||e[13]!==h?(g=a.jsx("div",{className:"p-0 pr-0 lg:pr-4 sm:pb-4 md:pr-4 md:py-6",children:a.jsx(D,{title:S,to:y,className:"block",children:h})}),e[11]=y,e[12]=S,e[13]=h,e[14]=g):g=e[14];let u;return e[15]!==N||e[16]!==v||e[17]!==g?(u=a.jsx("div",{id:N,className:v,children:g}),e[15]=N,e[16]=v,e[17]=g,e[18]=u):u=e[18],u},_=()=>{const{theme:m}=M(),{slug:e}=O(),t=f.find(i=>i.slug===e),r=U(),o=b.useMemo(()=>t?.images?[...t.images].sort(()=>Math.random()-.5):[],[t]);return b.useEffect(()=>{let n=new URLSearchParams(r.search).get("image");if(!n&&r.hash){const l=r.hash.substring(1);n=l.startsWith("image-")?l.replace("image-",""):l}if(n){const l=`image-${n.split(".")[0]}`;setTimeout(()=>{const d=document.getElementById(l);d&&d.scrollIntoView({behavior:"smooth",block:"center"})},150)}if(t&&t.images){const l=document.createElement("script");l.type="application/ld+json",l.id="gallery-structured-data";const d=t.images.filter(s=>s.latitude&&s.longitude).map(s=>({"@context":"https://schema.org","@type":"ImageObject",name:s.filename.replaceAll("_"," ").replace(".jpg","").trim(),description:`A photo from the gallery: ${t.title}`,contentUrl:`${c.url}${w(t.slug,encodeURI(s.filename.replaceAll(" ","_")),"original")}`,width:"1920",height:"1080",datePublished:s.createDate?C(s.createDate)?.toISOString().split("T")[0]||new Date().toISOString().split("T")[0]:new Date().toISOString().split("T")[0],dateCreated:s.createDate?C(s.createDate)?.toISOString().split("T")[0]||new Date().toISOString().split("T")[0]:new Date().toISOString().split("T")[0],author:{"@type":"Person",name:c.author,url:c.url},copyrightHolder:{"@type":"Person",name:c.author},license:"https://creativecommons.org/licenses/by-nc/4.0/",geo:{"@type":"GeoCoordinates",latitude:s.latitude,longitude:s.longitude},...s.googleMapsUrl&&{sameAs:s.googleMapsUrl}}));return l.innerHTML=JSON.stringify(d),document.head.appendChild(l),()=>{const s=document.getElementById("gallery-structured-data");s&&document.head.removeChild(s)}}},[r,t]),t?a.jsxs("div",{children:[a.jsx(F,{title:`Fotoserie: ${t.title||t.name} | ${c.author}`,description:t.description||`Fotoserie: ${t.title||t.name}.`,imageUrl:window.location.origin+w(t.slug,t.images[Math.floor(Math.random()*t.images.length)].filename)}),a.jsxs("div",{className:"px-4  md:pl-8 md:px-0",children:[a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("h1",{className:`${c.theme.headline.one} w-full max-w-[calc(var(--content-width)/(21/13))] text-wrap-balance md:pt-8 pt-6 pb-4  `,children:t.title||t.name}),t.description&&a.jsx("div",{className:"w-full max-w-[calc(var(--content-width)/(21/13))] text-wrap-balance text-sm md:text-lg leading-8 my-4 pb-4 leading-tight",dangerouslySetInnerHTML:{__html:E(t.description)}})]}),o.length>0?a.jsx("div",{className:"md:max-w-[calc(var(--content-width))] lg:pr-4 flex flex-wrap justify-center items-center gap-8 md:gap-0 pb-4",children:o.map(i=>a.jsx(B,{alt:`${i.filename.replaceAll("_"," ").replace(".jpg","").trim()}`,gallerySlug:t.slug,imageFilename:i.filename},i.filename))}):a.jsx("p",{className:"text-left",children:"Keine Fotos in der Serie gefunden"}),a.jsxs("div",{className:"md:max-w-[calc(var(--content-width))] w-full gap-4 my-8 py-8 flex flex-col justify-between items-center text-sm",children:[t.timeframe||t.imageCount?a.jsx("div",{className:"w-full",children:a.jsxs("span",{className:`w-full text-xs font-mono ${m==="dark"?"text-white":"text-black"} text-center w-full`,children:[t.timeframe?a.jsxs("p",{children:[t.timeframe," "]}):a.jsx("p",{children:"N/A"})," ",t.imageCount?a.jsxs("p",{children:[t.imageCount," Fotos"]}):a.jsx("p",{children:"N/A"})]})}):null,a.jsxs("div",{className:"flex flex-col md:flex-row md:gap-6 gap-0 justify-center items-center space-y-4 md:space-y-0",children:[a.jsx(P,{textToCopy:window.location.href,children:a.jsx("span",{className:`font-mono ${m==="dark"?"text-white":"text-black"}`,children:"Link Kopieren"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(z,{size:16,className:A(m==="dark"?"text-neutral-400":"text-neutral-500")}),a.jsx("span",{className:`text-xs font-mono ${m==="dark"?"text-white":"text-black"}`,children:a.jsx(R,{to:"/page/imprint",children:c.author})})]})]})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(F,{title:"Fotoserie nicht gefunden",description:"Fotoserie nicht gefunden",imageUrl:w(f[0].slug,f[0].images[Math.floor(Math.random()*f[0].images.length)].filename)}),a.jsx(G,{})]})};export{_ as default};
