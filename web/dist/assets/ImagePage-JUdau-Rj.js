import{e as ke,u as Ce,r as $e,g as Se,c as ve,b as we,j as l,L as je}from"./index-ComToKcm.js";import{M as De,a as Ie}from"./scale-control-COO98DtR.js";import{C as i}from"./config-BUEk0qKv.js";import{c as d}from"./cn-CBfrqCZ4.js";import{I as Te}from"./Image-BOo1McAc.js";import{g as o}from"./image-CpkqAB9L.js";import{p as be}from"./date-RcxNdlrM.js";import{C as Me}from"./check-70qjWpMK.js";import{H as V}from"./Href-DOBl5W95.js";import"./mapbox-gl-CNTiHEyl.js";import"./index-DIXF7QXO.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Ee=ke("copy",ze),Le=()=>{const{imageName:e}=Ce();return $e.useMemo(()=>{if(e)for(const n of Se){const m=n.images?.find(f=>f.filename.replace(/\.[^/.]+$/,"")===e);if(m)return{image:m,gallery:n}}},[e])},ye=e=>{const s=ve.c(11),{textToCopy:n,className:m}=e,[f,t]=$e.useState(!1),{theme:a}=we();let g;s[0]!==n?(g=async()=>{try{await navigator.clipboard.writeText(n),t(!0),setTimeout(()=>t(!1),2e3)}catch(p){console.error("Failed to copy text: ",p)}},s[0]=n,s[1]=g):g=s[1];const u=g;let x;s[2]!==m?(x=d("p-1 bg-transparent",m),s[2]=m,s[3]=x):x=s[3];let c;s[4]!==f||s[5]!==a?(c=f?l.jsx(Me,{size:16,strokeWidth:2,className:d(a==="dark"?"text-red-300":"text-red-600")}):l.jsx(Ee,{className:d(a==="dark"?"text-red-300":"text-red-600"),size:16}),s[4]=f,s[5]=a,s[6]=c):c=s[6];let h;return s[7]!==u||s[8]!==x||s[9]!==c?(h=l.jsx("button",{onClick:u,className:x,"aria-label":"Copy to clipboard",children:c}),s[7]=u,s[8]=x,s[9]=c,s[10]=h):h=s[10],h},Ke=()=>{const e=ve.c(112),{theme:s}=we(),n=Le();let m,f;if(e[0]!==n?(m=()=>{if(n){const{image:r,gallery:Ne}=n,se=document.createElement("script");se.type="application/ld+json",se.id="image-structured-data";const _e={"@context":"https://schema.org","@type":"ImageObject",name:r.filename,description:r.alt||`A photo from the gallery: ${Ne.title}`,contentUrl:`${i.url}${o(Ne.slug,r.filename,"original")}`,author:{"@type":"Person",name:i.meta.title},...r.latitude&&r.longitude&&{location:{"@type":"Place",geo:{"@type":"GeoCoordinates",latitude:r.latitude,longitude:r.longitude},...r.googleMapsUrl&&{sameAs:r.googleMapsUrl}}}};return se.innerHTML=JSON.stringify(_e),document.head.appendChild(se),Fe}},f=[n],e[0]=n,e[1]=m,e[2]=f):(m=e[1],f=e[2]),$e.useEffect(m,f),!n){let r;return e[3]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx("div",{className:"py-10 text-left",children:"Bild nicht gefunden."}),e[3]=r):r=e[3],r}const{image:t,gallery:a}=n,g=`${t.filename} | ${a.title} | ${i.meta.title}`;let u;e[4]!==g?(u=l.jsx("title",{children:g}),e[4]=g,e[5]=u):u=e[5];const x=`${t.filename} | ${a.title} | ${i.meta.title}`;let c;e[6]!==x?(c=l.jsx("meta",{name:"title",content:x}),e[6]=x,e[7]=c):c=e[7];const h=`${t.alt||a.title}`;let p;e[8]!==h?(p=l.jsx("meta",{name:"description",content:h}),e[8]=h,e[9]=p):p=e[9];const J=`${i.url}${o(a.slug,t.filename,640)}`;let j;e[10]!==J?(j=l.jsx("meta",{name:"image",content:J}),e[10]=J,e[11]=j):j=e[11];const ie=`${i.url}${o(a.slug,t.filename,640)}`;let y;e[12]!==ie?(y=l.jsx("meta",{name:"og:image",content:ie}),e[12]=ie,e[13]=y):y=e[13];const ne=`${t.filename} | ${a.title} | ${i.meta.title}`;let $;e[14]!==ne?($=l.jsx("meta",{name:"og:title",content:ne}),e[14]=ne,e[15]=$):$=e[15];const re=`${t.alt||a.title}`;let N;e[16]!==re?(N=l.jsx("meta",{name:"og:description",content:re}),e[16]=re,e[17]=N):N=e[17];const oe=`${i.url}${o(a.slug,t.filename,640)}`;let b;e[18]!==oe?(b=l.jsx("meta",{name:"og:url",content:oe}),e[18]=oe,e[19]=b):b=e[19];let v;e[20]!==a.slug||e[21]!==t.filename?(v=o(a.slug,t.filename),e[20]=a.slug,e[21]=t.filename,e[22]=v):v=e[22];const ce=t.alt||a.title;let w;e[23]!==t.height||e[24]!==t.width||e[25]!==v||e[26]!==ce?(w=l.jsx("div",{className:"flex items-center h-auto md:h-[80vh]",children:l.jsx(Te,{src:v,alt:ce,width:t.width,height:t.height,sizes:"(max-width: 768px) 100vw, 1024px",className:"max-h-full h-full max-w-full object-contain"})}),e[23]=t.height,e[24]=t.width,e[25]=v,e[26]=ce,e[27]=w):w=e[27];let K;e[28]===Symbol.for("react.memo_cache_sentinel")?(K=d("truncate",i.theme.headline.one),e[28]=K):K=e[28];let _;e[29]!==t.filename?(_=l.jsx("h1",{className:K,children:t.filename}),e[29]=t.filename,e[30]=_):_=e[30];let W;e[31]===Symbol.for("react.memo_cache_sentinel")?(W=l.jsx("span",{className:"",children:"Galerie: "}),e[31]=W):W=e[31];const me=`underline  decoration-1 ${s==="dark"?"decoration-red-300 hover:text-red-300":"decoration-red-600 hover:text-red-600"} underline-offset-4`;let k;e[32]!==me?(k=d(me),e[32]=me,e[33]=k):k=e[33];const de=`/gallery/${a.slug}`;let C;e[34]!==a.title||e[35]!==k||e[36]!==de?(C=l.jsxs("h2",{className:"text-xl",children:[W,l.jsx(je,{className:k,to:de,children:a.title})]}),e[34]=a.title,e[35]=k,e[36]=de,e[37]=C):C=e[37];let Z;e[38]===Symbol.for("react.memo_cache_sentinel")?(Z=l.jsx("h3",{className:"text-xl mb-2",children:"Details"}),e[38]=Z):Z=e[38];let Q;e[39]===Symbol.for("react.memo_cache_sentinel")?(Q=l.jsx("div",{className:"text-[10px] uppercase tracking-wider",children:"Original"}),e[39]=Q):Q=e[39];let S;e[40]!==a.slug||e[41]!==t.filename?(S=o(a.slug,t.filename,"original"),e[40]=a.slug,e[41]=t.filename,e[42]=S):S=e[42];let X;e[43]===Symbol.for("react.memo_cache_sentinel")?(X=d("truncate font-mono"),e[43]=X):X=e[43];const fe=`${i.url}${o(a.slug,t.filename,"original")}`;let D;e[44]!==S||e[45]!==fe?(D=l.jsx(V,{href:S,hasDecoration:!1,className:X,children:fe}),e[44]=S,e[45]=fe,e[46]=D):D=e[46];const ue=`${i.url}${o(a.slug,t.filename,"original")}`;let I;e[47]!==ue?(I=l.jsx(ye,{textToCopy:ue}),e[47]=ue,e[48]=I):I=e[48];let T;e[49]!==D||e[50]!==I?(T=l.jsxs("div",{className:"flex items-center gap-2 font-mono",children:[D,I]}),e[49]=D,e[50]=I,e[51]=T):T=e[51];let Y;e[52]===Symbol.for("react.memo_cache_sentinel")?(Y=l.jsx("div",{className:"text-[10px] uppercase tracking-wider",children:"1440w"}),e[52]=Y):Y=e[52];let M;e[53]!==a.slug||e[54]!==t.filename?(M=o(a.slug,t.filename,1440),e[53]=a.slug,e[54]=t.filename,e[55]=M):M=e[55];let ee;e[56]===Symbol.for("react.memo_cache_sentinel")?(ee=d("truncate font-mono"),e[56]=ee):ee=e[56];const xe=`${i.url}${o(a.slug,t.filename,1440)}`;let z;e[57]!==M||e[58]!==xe?(z=l.jsx(V,{href:M,hasDecoration:!1,className:ee,children:xe}),e[57]=M,e[58]=xe,e[59]=z):z=e[59];const ge=`${i.url}${o(a.slug,t.filename,1440)}`;let E;e[60]!==ge?(E=l.jsx(ye,{textToCopy:ge}),e[60]=ge,e[61]=E):E=e[61];let L;e[62]!==z||e[63]!==E?(L=l.jsxs("div",{className:"flex items-center gap-2 font-mono",children:[z,E]}),e[62]=z,e[63]=E,e[64]=L):L=e[64];let te;e[65]===Symbol.for("react.memo_cache_sentinel")?(te=l.jsx("div",{className:"text-[10px] uppercase tracking-wider",children:"640w"}),e[65]=te):te=e[65];let F;e[66]!==a.slug||e[67]!==t.filename?(F=o(a.slug,t.filename,640),e[66]=a.slug,e[67]=t.filename,e[68]=F):F=e[68];let le;e[69]===Symbol.for("react.memo_cache_sentinel")?(le=d("truncate font-mono"),e[69]=le):le=e[69];const he=`${i.url}${o(a.slug,t.filename,640)}`;let O;e[70]!==F||e[71]!==he?(O=l.jsx(V,{href:F,hasDecoration:!1,className:le,children:he}),e[70]=F,e[71]=he,e[72]=O):O=e[72];const pe=`${i.url}${o(a.slug,t.filename,640)}`;let P;e[73]!==pe?(P=l.jsx(ye,{textToCopy:pe}),e[73]=pe,e[74]=P):P=e[74];let U;e[75]!==O||e[76]!==P?(U=l.jsxs("div",{className:"flex items-center gap-2 font-mono",children:[O,P]}),e[75]=O,e[76]=P,e[77]=U):U=e[77];let A;e[78]!==t.createDate||e[79]!==s?(A=t.createDate&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"text-xl mt-4",children:"Datum & Uhrzeit"}),l.jsx(je,{to:`/app/timeline?scrollTo=${be(t.createDate).toISOString().split("T")[0]}`,className:d("underline underline-offset-4",s==="dark"?"hover:text-red-300 decoration-red-300":"hover:text-red-600 decoration-red-600"),children:new Date(be(t.createDate)).toLocaleDateString("de-DE",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e[78]=t.createDate,e[79]=s,e[80]=A):A=e[80];let G;e[81]!==T||e[82]!==L||e[83]!==U||e[84]!==A?(G=l.jsxs("div",{className:"flex-1",children:[Z,l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[100px,1fr] gap-x-4 gap-y-2 text-sm",children:[Q,T,Y,L,te,U,A]})]}),e[81]=T,e[82]=L,e[83]=U,e[84]=A,e[85]=G):G=e[85];let B;e[86]!==a.slug||e[87]!==t.filename||e[88]!==t.latitude||e[89]!==t.longitude||e[90]!==s?(B=t.latitude&&t.longitude&&l.jsxs("div",{className:"flex-1 mb-8 md:mb-4",children:[l.jsx("h2",{className:"text-xl mb-2",children:"Location"}),l.jsx("p",{className:"text-sm mb-2",children:`${t.latitude.toFixed(4)}, ${t.longitude.toFixed(4)}`}),l.jsx("div",{className:"border aspect-square md:aspect-[3/2] w-full overflow-hidden",children:l.jsx(De,{initialViewState:{latitude:t.latitude,longitude:t.longitude,zoom:12},style:{width:"100%",height:"100%"},mapStyle:s==="dark"?i.mapbox.style.dark:i.mapbox.style.light,mapboxAccessToken:i.mapbox.accessToken,scrollZoom:!0,dragPan:!1,children:l.jsx(Ie,{longitude:t.longitude,latitude:t.latitude,children:l.jsx("div",{children:l.jsx("div",{className:d("w-4 h-4 border border-white",s==="dark"?"bg-red-300":"bg-red-600")})})})})}),l.jsxs("div",{className:"flex flex-wrap space-y-2 space-x-4 gap-0 mt-2",children:[l.jsx(je,{to:`/app/map?gallery=${a.slug}&image=${t.filename}`,className:d("inline-block underline underline-offset-4 inline-block ",s==="dark"?"text-white decoration-red-300 hover:text-red-300 hover:decoration-red-300":"text-black decoration-red-500 hover:text-red-600"),children:"In Karte anzeigen"}),l.jsx(V,{href:`https://www.google.com/maps/search/?api=1&query=${t.latitude},${t.longitude}`,children:"Google Maps"}),l.jsx(V,{href:`http://maps.apple.com/?ll=${t.latitude},${t.longitude}`,children:"Apple Maps"})]})]}),e[86]=a.slug,e[87]=t.filename,e[88]=t.latitude,e[89]=t.longitude,e[90]=s,e[91]=B):B=e[91];let H;e[92]!==G||e[93]!==B?(H=l.jsxs("div",{className:"flex flex-col lg:flex-row-reverse gap-8 mt-4 border-t border-neutral-500/50 pt-4 md:pt-8 border-dotted",children:[G,B]}),e[92]=G,e[93]=B,e[94]=H):H=e[94];let q;e[95]!==_||e[96]!==C||e[97]!==H?(q=l.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[_,C,H]}),e[95]=_,e[96]=C,e[97]=H,e[98]=q):q=e[98];let R;e[99]!==w||e[100]!==q?(R=l.jsxs("div",{className:"w-full max-w-4xl flex flex-col gap-4",children:[w,q]}),e[99]=w,e[100]=q,e[101]=R):R=e[101];let ae;return e[102]!==y||e[103]!==$||e[104]!==N||e[105]!==b||e[106]!==u||e[107]!==c||e[108]!==R||e[109]!==p||e[110]!==j?(ae=l.jsxs("div",{className:"w-full max-w-[var(--content-width)] p-4 md:p-8 flex flex-col items-center",children:[u,c,p,j,y,$,N,b,R]}),e[102]=y,e[103]=$,e[104]=N,e[105]=b,e[106]=u,e[107]=c,e[108]=R,e[109]=p,e[110]=j,e[111]=ae):ae=e[111],ae};function Fe(){const e=document.getElementById("image-structured-data");e&&document.head.removeChild(e)}export{Ke as default};
