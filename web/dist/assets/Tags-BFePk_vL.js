import{u as f,i as w,r as c,g as r,j as t,b as h,C as d,L as j,a as N}from"./index-C7nXu86p.js";import{S as v}from"./SeoHead-C-mIlNmw.js";import"./mapbox-gl-CNTiHEyl.js";const y=()=>{const{theme:a}=f(),[x]=w(),[l,g]=c.useState([]);c.useEffect(()=>{const e=x.get("tag");e&&g([e])},[x]);const m=c.useMemo(()=>{const e=new Set;return r.forEach(s=>{s.tags&&s.tags.forEach(n=>e.add(n))}),Array.from(e).sort()},[]),i=c.useMemo(()=>l.length===0?r.filter(e=>e.tags&&e.tags.length>0):r.filter(e=>e.tags?l.every(s=>e.tags.includes(s)):!1),[l]),b=c.useMemo(()=>{const e={};return r.forEach(s=>{s.images&&s.images.length>0?e[s.slug]=s.images[Math.floor(Math.random()*s.images.length)]:e[s.slug]=null}),e},[]),p=e=>{g(s=>s.includes(e)?s.filter(n=>n!==e):[...s,e])},u=()=>{g([])};return t.jsxs("div",{className:"p-4 md:px-8",children:[t.jsx(v,{title:`Tags | ${d.meta.title}`,description:"Filter galleries by tags",imageUrl:h(r[0].slug,r[0].images[Math.floor(Math.random()*r[0].images.length)].filename.replaceAll(" ","_"),640)}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:`${d.theme.headline.one} w-full max-w-[calc(var(--content-width)/(21/13))] text-wrap-balance pt-4 pb-4`,children:"Tags"}),t.jsxs("div",{className:`mb-6 p-4 border shadow-[3px_3px_0px_#00000011] border-neutral-500/20 ${a!=="light"?"bg-black/10":"bg-white/10"}`,children:[t.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-2 mb-4",children:[t.jsx("span",{className:`text-xs ${a==="light"?"text-gray-700":"text-gray-300"}`,children:"Verfügbare Tags"}),t.jsx("button",{onClick:u,className:`text-xs px-2 py-1 border border-neutral-500/20 transition-colors ${l.length>0?a==="light"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-red-900 text-red-300 hover:bg-red-800":a==="light"?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,disabled:l.length===0,children:"Filter löschen"})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(e=>{const s=l.includes(e);return t.jsx("button",{onClick:()=>p(e),className:`px-3 py-1.5 text-[9.5px] font-mono border border-neutral-500/20 transition-all duration-200 ${s?a==="light"?"bg-black text-white":"bg-white text-black":a==="light"?"text-gray-700 hover:bg-gray-50":"text-gray-300 hover:bg-gray-900"}`,children:e},e)})})]}),l.length>0&&t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx("span",{className:"text-xs ",children:"Ausgewählte Tags:"}),l.map(e=>t.jsx("span",{className:`px-2 py-1 text-[9.5px] border border-neutral-500/20 ${a==="light"?"bg-black text-white":"bg-white text-black"}`,children:e},e))]})}),t.jsx("div",{className:`text-xs ${a==="light"?"text-gray-600":"text-gray-400"}`,children:l.length===0?`${i.length} ${i.length===1?"Fotoserie":"Fotoserien"} mit diesen Tags`:`${i.length} ${i.length===1?"Fotoserie":"Fotoserien"} gefunden mit ${l.length===1?" dem Tag":"allen Tags"}: ${l.join(", ")}`})]}),i.length>0?t.jsx("div",{className:"flex flex-col lg:flex-row lg:flex-wrap",children:i.map((e,s)=>{const n=b[e.slug];return t.jsx("div",{className:"w-full lg:w-1/2",children:t.jsxs(j,{to:`/gallery/${e.slug}`,className:"flex lg:flex-row items-center gap-4 py-2",children:[n?t.jsx("img",{loading:"lazy",src:h(e.slug,n.filename.replaceAll(" ","_"),380),alt:e.title,width:128,height:128,className:N(`${a==="dark"?"text-white bg-white/10":"text-black bg-black/10"} lg:w-32 lg:h-32 min-w-24 min-h-24 w-24 h-24 object-cover `)}):t.jsx("div",{className:"lg:w-32 lg:h-32 w-24 h-24 bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:t.jsx("span",{className:"text-xs text-gray-500",children:"Kein Bild"})}),t.jsxs("div",{className:"text-sm flex-1",children:[t.jsx("h3",{className:"truncate text-lg ",children:e.title}),t.jsxs("p",{className:"truncate text-xs",children:[e.images?.length||0," Bilder"]}),t.jsxs("p",{className:"truncate text-xs",children:["Datum: ",e.timeframe||"N/V"]}),e.tags&&e.tags.length>0&&t.jsxs("div",{className:"relative mt-2",children:[t.jsx("div",{className:"flex gap-1 overflow-hidden",children:e.tags.map(o=>t.jsx("span",{className:`flex-shrink-0 whitespace-nowrap px-1.5 py-0.5 text-[11px] border border-neutral-500/20 ${l.includes(o)?a==="light"?"bg-black text-white":"bg-white text-black":a==="light"?"text-gray-700":"text-gray-300"}`,children:o},o))}),t.jsx("div",{className:`absolute right-0 top-0 bottom-0 w-8 pointer-events-none bg-gradient-to-l ${a==="light"?"from-white":"from-black"} to-transparent`})]})]})]})},s)})}):t.jsxs("div",{className:` py-12 ${a==="light"?"text-gray-500":"text-gray-400"}`,children:[t.jsx("p",{className:"text-lg mb-2",children:"Keine Serien gefunden"}),t.jsx("p",{className:"text-sm",children:l.length>0?"Versuche weniger Tag-Kombinationen":"Keine Fotoserien haben diese Tags"})]})]})};export{y as default};
