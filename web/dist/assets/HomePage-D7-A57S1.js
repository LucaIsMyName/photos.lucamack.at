import{c as b,r as j,j as r,L as v,g as N}from"./index-BaOktbzR.js";import{I as F}from"./Image-C69AbVzx.js";import{c as I}from"./cn-CBfrqCZ4.js";import{g as M}from"./image-CpkqAB9L.js";import{C as x}from"./config-BUEk0qKv.js";import"./mapbox-gl-CNTiHEyl.js";const C=()=>{const e=b.c(24),[l,w]=j.useState(null);let g,h;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=()=>{const t=N.filter(_);if(t.length>0){const p=t[Math.floor(Math.random()*t.length)],y=p.images[Math.floor(Math.random()*p.images.length)];w({gallery:p,image:y})}},h=[],e[0]=g,e[1]=h):(g=e[0],h=e[1]),j.useEffect(g,h);let f;e[2]!==l?(f=()=>l?{src:M(l.gallery.slug,l.image.filename),alt:l.image.alt||"",width:l.image.width,height:l.image.height,slug:l.gallery.slug}:null,e[2]=l,e[3]=f):f=e[3];const u=f;let a,m,n,s,i,o;if(e[4]!==u){const t=u();n="h-full w-full relative",e[11]===Symbol.for("react.memo_cache_sentinel")?(s=r.jsx("title",{children:`Fotos | ${x.meta.title}`}),i=r.jsx("meta",{name:"title",content:`Fotos | ${x.meta.title}`}),o=r.jsx("meta",{name:"description",content:`Momente und Fotoserien von ${x.meta.title}.`}),a=I("absolute inset-0 p-8 md:p-16"),e[11]=a,e[12]=s,e[13]=i,e[14]=o):(a=e[11],s=e[12],i=e[13],o=e[14]),m=t?r.jsx(v,{to:`/gallery/${t.slug}`,className:"block w-full h-full",children:r.jsx(F,{src:t.src,alt:t.src.split("/").pop()?.replace(".jpg","")||"",width:t.width||1920,height:t.height||1080,sizes:"100vw",loading:"eager",className:I("object-contain w-full h-full")})}):r.jsx("div",{className:"text-center",children:"Lade Foto..."}),e[4]=u,e[5]=a,e[6]=m,e[7]=n,e[8]=s,e[9]=i,e[10]=o}else a=e[5],m=e[6],n=e[7],s=e[8],i=e[9],o=e[10];let c;e[15]!==a||e[16]!==m?(c=r.jsx("div",{className:a,children:m}),e[15]=a,e[16]=m,e[17]=c):c=e[17];let d;return e[18]!==n||e[19]!==s||e[20]!==i||e[21]!==o||e[22]!==c?(d=r.jsxs("div",{className:n,children:[s,i,o,c]}),e[18]=n,e[19]=s,e[20]=i,e[21]=o,e[22]=c,e[23]=d):d=e[23],d};function _(e){return e.images&&e.images.length>0}export{C as default};
