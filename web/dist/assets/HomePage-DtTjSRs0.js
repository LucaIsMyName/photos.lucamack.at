import{c as F,r as y,j as l,L as N,g as x}from"./index-Dri2YBdd.js";import{I as $}from"./Image-BCcA9AWF.js";import{c as b}from"./cn-CBfrqCZ4.js";import{g as M}from"./image-CpkqAB9L.js";import{C as j}from"./config-BUEk0qKv.js";import{H as w}from"./Href-B1OnJpFk.js";import{s as _}from"./slugify-BCIJIR2V.js";import"./mapbox-gl-CNTiHEyl.js";const O=()=>{const e=F.c(24),[s,v]=y.useState(null);let h,d;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{const t=x.filter(E);if(t.length>0){const m=t[Math.floor(Math.random()*t.length)],I=m.images[Math.floor(Math.random()*m.images.length)];v({gallery:m,image:I})}},d=[],e[0]=h,e[1]=d):(h=e[0],d=e[1]),y.useEffect(h,d);let f;e[2]!==s?(f=()=>s?{src:M(s.gallery.slug,s.image.filename),alt:s.image.alt||"",width:s.image.width,height:s.image.height,slug:s.gallery.slug}:null,e[2]=s,e[3]=f):f=e[3];const u=f;let a,n,c,i,r,o;if(e[4]!==u){const t=u();c="h-full w-full relative overflow-hidden",e[11]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx("title",{children:`Fotos | ${j.meta.title}`}),r=l.jsx("meta",{name:"title",content:`Fotos | ${j.meta.title}`}),o=l.jsx("meta",{name:"description",content:`Momente und Fotoserien von ${j.meta.title}.`}),a=b("absolute inset-0 py-12 pb-24 px-8 md:p-20 lg:p-24"),e[11]=a,e[12]=i,e[13]=r,e[14]=o):(a=e[11],i=e[12],r=e[13],o=e[14]),n=t?l.jsxs(l.Fragment,{children:[l.jsx(N,{to:`/gallery/${t.slug}`,className:"block w-full h-full",children:l.jsx($,{src:t.src,alt:(t.src.split("/").pop()?.replace(".jpg","")+" / "||"")+"Fotoserie: "+(x.find(m=>m.slug===t.slug)?.title||""),width:t.width||1920,height:t.height||1080,sizes:"100vw",loading:"eager",className:b("object-contain w-full h-full")})}),l.jsx("section",{className:"absolute md:text-center bottom-0 right-0 left-0 p-4 md:py-6 text-balance",children:l.jsxs("div",{className:"max-w-[50vh] md:max-w-[65ch] md:mx-auto text-xs",children:[l.jsx(w,{to:`/gallery/${t.slug}/image/${_(t.src.split("/").pop()?.replace(".jpg","")||"")}`,children:t.src.split("/").pop()?.replace(".jpg","")})," aus der Fotoserie ",l.jsx(w,{to:`/gallery/${t.slug}`,children:x.find(m=>m.slug===t.slug)?.title})]})})]}):l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:"Lade Foto..."}),e[4]=u,e[5]=a,e[6]=n,e[7]=c,e[8]=i,e[9]=r,e[10]=o}else a=e[5],n=e[6],c=e[7],i=e[8],r=e[9],o=e[10];let g;e[15]!==a||e[16]!==n?(g=l.jsx("div",{className:a,children:n}),e[15]=a,e[16]=n,e[17]=g):g=e[17];let p;return e[18]!==c||e[19]!==i||e[20]!==r||e[21]!==o||e[22]!==g?(p=l.jsxs("div",{className:c,children:[i,r,o,g]}),e[18]=c,e[19]=i,e[20]=r,e[21]=o,e[22]=g,e[23]=p):p=e[23],p};function E(e){return e.images&&e.images.length>0}export{O as default};
